# Production: frontend :3000 (отдельный репо; API на другом сервере/порту).
# Запуск из корня фронт-репо: docker compose -f docker-compose.prod.yml up --build -d
# В .env задать NEXT_PUBLIC_API_URL (URL бэкенда для браузера, напр. http://IP:9000/api).

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile.prod
      args:
        NEXT_PUBLIC_API_URL: ${NEXT_PUBLIC_API_URL:-http://localhost:9000/api}
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      NODE_ENV: production
      NEXT_PUBLIC_API_URL: ${NEXT_PUBLIC_API_URL:-http://localhost:9000/api}
